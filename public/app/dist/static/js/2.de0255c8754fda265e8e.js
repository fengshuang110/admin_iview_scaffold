webpackJsonp([2],{FpI6:function(e,t){},SuUm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("aA9S"),i=n.n(a),r=n("lC5x"),o=n.n(r),s=n("J0Oq"),l=n.n(s),u=n("vLgD"),c={pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.a)("/permission_menu/index",e)},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.a)("/permission_menu/create",e,{method:"POST"})},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.a)("/permission_menu/update",e,{method:"POST"})}};n("0xDb");var d={data:function(){return{name:"",tableData:[],pagination:{},groups:[{label:"分组1",value:1},{label:"分组2",value:2}],showModal:!1,loading:!0,itemBackup:{},rowBackup:{},item:{id:0,name:"",permission_key:""}}},computed:{tableCols:function(){return function(){var e=this;return[{title:"id",key:"id",width:80},{title:"权限组菜单",key:"name"},{title:"唯一标识key",key:"permission_key",width:200},{title:"状态",key:"status",render:function(e,t){return 1===t.row.status?e("tag",{attrs:{color:"green"}},["正常"]):e("tag",{attrs:{color:"red"}},["已锁定"])}},{title:"拥有权限",key:"permission_menu_name",width:300,render:function(e,t){var n=t.row;return e("div",n.actions.map(function(t){return e("tag",{attrs:{color:"green"}},[t.label])}))}},{title:"操作",key:"action",width:200,align:"center",render:function(t,n){var a=n.row;return t("div",[1===a.status?t("i-button",{on:{click:function(){return e.handleToggle(a)}},attrs:{type:"error"}},["锁定"]):t("i-button",{on:{click:function(){return e.handleToggle(a)}},attrs:{type:"success"}},["解锁"]),t("i-button",{on:{click:function(){return e.handleShowModal(a)}}},["编辑"])])}}]}.call(this)}},created:function(){this.itemBackup=this.item,this.renderPage()},methods:{renderPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return l()(o.a.mark(function n(){var a,i;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a={name:e.name,page:t},n.next=3,c.pages(a);case 3:i=n.sent,e.tableData=i.data,e.pagination=i;case 6:case"end":return n.stop()}},n,e)}))()},handleShowModal:function(e){this.showModal=!0;var t=e.id;0!==(void 0===t?1:t)?(this.item=i()({},e),this.rowBackup=e):this.item=this.itemBackup},handlePostSubmit:function(){var e=this;return l()(o.a.mark(function t(){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="create",a=i()({},e.item),e.item.id&&(n="update",a=e.item),t.prev=3,t.next=6,c[n](a);case 6:e.renderPage(),e.$Message.success("操作成功"),e.showModal=!1,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(3);case 13:e.loading=!1,e.$nextTick(function(){return e.loading=!0});case 15:case"end":return t.stop()}},t,e,[[3,11]])}))()}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("default-card",{attrs:{title:"权限组管理"}},[n("div",{staticClass:"default-margin-left default-margin-bottom"},[n("Button",{attrs:{type:"primary",icon:"plus-round"},on:{click:e.handleShowModal}},[e._v("\n      添加权限组\n    ")]),e._v(" "),n("Input",{staticClass:"fix-input",attrs:{type:"text",placeholder:"名称",icon:"ios-search"},on:{"on-enter":function(t){e.renderPage(1)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),n("default-table",{attrs:{tableCols:e.tableCols,tableData:e.tableData}}),e._v(" "),n("default-pagination",{attrs:{pagination:e.pagination},on:{handleChange:e.renderPage}}),e._v(" "),n("Modal",{attrs:{title:e.item.id>0?"编辑":"添加",loading:e.loading},on:{"on-ok":e.handlePostSubmit},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("Form",{attrs:{model:e.item,"label-width":80}},[n("FormItem",{attrs:{label:"权限组名称"}},[n("Input",{attrs:{placeholder:"权限组名称"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),e._v(" "),n("FormItem",{attrs:{label:"唯一标识key"}},[n("Input",{attrs:{placeholder:"唯一标识key"},model:{value:e.item.permission_key,callback:function(t){e.$set(e.item,"permission_key",t)},expression:"item.permission_key"}})],1),e._v(" "),n("FormItem",{attrs:{label:"拥有权限"}},[n("Select",{staticStyle:{width:"410px"},attrs:{multiple:""},model:{value:e.item.permissionIds,callback:function(t){e.$set(e.item,"permissionIds",t)},expression:"item.permissionIds"}},e._l(e.item.options,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1)],1)],1)},staticRenderFns:[]};var p=n("C7Lr")(d,m,!1,function(e){n("FpI6")},null,null);t.default=p.exports}});